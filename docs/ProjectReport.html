<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=JAFgy3sJ6u-1Y7nCa1uU6SUtPfispk2Nf_HnDByoHUW5a4FDamQDP-811jMZtmdtnHXOXucBz5E6MtNR38TQOQ');.lst-kix_7l4k3s4gjw7h-8>li:before{content:"\0025a0  "}ul.lst-kix_e3jwjxt66zw7-0{list-style-type:none}ul.lst-kix_e3jwjxt66zw7-1{list-style-type:none}.lst-kix_7l4k3s4gjw7h-2>li:before{content:"\0025a0  "}ul.lst-kix_e3jwjxt66zw7-4{list-style-type:none}ul.lst-kix_e3jwjxt66zw7-5{list-style-type:none}ul.lst-kix_e3jwjxt66zw7-2{list-style-type:none}.lst-kix_7l4k3s4gjw7h-3>li:before{content:"\0025cf  "}ul.lst-kix_e3jwjxt66zw7-3{list-style-type:none}ul.lst-kix_e3jwjxt66zw7-8{list-style-type:none}ul.lst-kix_e3jwjxt66zw7-6{list-style-type:none}.lst-kix_7l4k3s4gjw7h-4>li:before{content:"\0025cb  "}ul.lst-kix_e3jwjxt66zw7-7{list-style-type:none}.lst-kix_7l4k3s4gjw7h-5>li:before{content:"\0025a0  "}.lst-kix_7l4k3s4gjw7h-7>li:before{content:"\0025cb  "}.lst-kix_7l4k3s4gjw7h-6>li:before{content:"\0025cf  "}ul.lst-kix_7l4k3s4gjw7h-5{list-style-type:none}.lst-kix_e3jwjxt66zw7-7>li:before{content:"\0025cb  "}ul.lst-kix_7l4k3s4gjw7h-4{list-style-type:none}ul.lst-kix_7l4k3s4gjw7h-7{list-style-type:none}ul.lst-kix_7l4k3s4gjw7h-6{list-style-type:none}.lst-kix_e3jwjxt66zw7-5>li:before{content:"\0025a0  "}ul.lst-kix_7l4k3s4gjw7h-8{list-style-type:none}.lst-kix_e3jwjxt66zw7-6>li:before{content:"\0025cf  "}.lst-kix_e3jwjxt66zw7-0>li:before{content:"\0025cf  "}.lst-kix_e3jwjxt66zw7-8>li:before{content:"\0025a0  "}ul.lst-kix_wkhtvg17fpcu-1{list-style-type:none}ul.lst-kix_wkhtvg17fpcu-0{list-style-type:none}ul.lst-kix_wkhtvg17fpcu-5{list-style-type:none}ul.lst-kix_wkhtvg17fpcu-4{list-style-type:none}ul.lst-kix_wkhtvg17fpcu-3{list-style-type:none}ul.lst-kix_wkhtvg17fpcu-2{list-style-type:none}ul.lst-kix_wkhtvg17fpcu-8{list-style-type:none}ul.lst-kix_wkhtvg17fpcu-7{list-style-type:none}ul.lst-kix_wkhtvg17fpcu-6{list-style-type:none}.lst-kix_wkhtvg17fpcu-7>li:before{content:"\0025cb  "}.lst-kix_wkhtvg17fpcu-4>li:before{content:"\0025cb  "}.lst-kix_wkhtvg17fpcu-8>li:before{content:"\0025a0  "}.lst-kix_wkhtvg17fpcu-5>li:before{content:"\0025a0  "}.lst-kix_wkhtvg17fpcu-6>li:before{content:"\0025cf  "}.lst-kix_e3jwjxt66zw7-1>li:before{content:"\0025cb  "}.lst-kix_e3jwjxt66zw7-2>li:before{content:"\0025a0  "}.lst-kix_e3jwjxt66zw7-3>li:before{content:"\0025cf  "}ul.lst-kix_7l4k3s4gjw7h-1{list-style-type:none}ul.lst-kix_7l4k3s4gjw7h-0{list-style-type:none}ul.lst-kix_7l4k3s4gjw7h-3{list-style-type:none}.lst-kix_e3jwjxt66zw7-4>li:before{content:"\0025cb  "}ul.lst-kix_7l4k3s4gjw7h-2{list-style-type:none}.lst-kix_j1iduzjai4sz-0>li:before{content:"\0025cf  "}ul.lst-kix_6tvgv39kytrp-4{list-style-type:none}ul.lst-kix_6tvgv39kytrp-5{list-style-type:none}ul.lst-kix_6tvgv39kytrp-2{list-style-type:none}ul.lst-kix_6tvgv39kytrp-3{list-style-type:none}.lst-kix_j1iduzjai4sz-1>li:before{content:"\0025cb  "}ul.lst-kix_6tvgv39kytrp-8{list-style-type:none}ul.lst-kix_6tvgv39kytrp-6{list-style-type:none}ul.lst-kix_6tvgv39kytrp-7{list-style-type:none}.lst-kix_j1iduzjai4sz-2>li:before{content:"\0025a0  "}.lst-kix_j1iduzjai4sz-3>li:before{content:"\0025cf  "}.lst-kix_j1iduzjai4sz-5>li:before{content:"\0025a0  "}ul.lst-kix_6tvgv39kytrp-0{list-style-type:none}ul.lst-kix_6tvgv39kytrp-1{list-style-type:none}.lst-kix_j1iduzjai4sz-4>li:before{content:"\0025cb  "}.lst-kix_j1iduzjai4sz-7>li:before{content:"\0025cb  "}.lst-kix_wkhtvg17fpcu-1>li:before{content:"\0025cb  "}.lst-kix_j1iduzjai4sz-6>li:before{content:"\0025cf  "}.lst-kix_wkhtvg17fpcu-0>li:before{content:"\0025cf  "}.lst-kix_wkhtvg17fpcu-3>li:before{content:"\0025cf  "}.lst-kix_j1iduzjai4sz-8>li:before{content:"\0025a0  "}.lst-kix_wkhtvg17fpcu-2>li:before{content:"\0025a0  "}ul.lst-kix_de1wxwepo84c-1{list-style-type:none}ul.lst-kix_de1wxwepo84c-0{list-style-type:none}ul.lst-kix_de1wxwepo84c-3{list-style-type:none}ul.lst-kix_de1wxwepo84c-2{list-style-type:none}.lst-kix_de1wxwepo84c-0>li:before{content:"\0025cf  "}ul.lst-kix_de1wxwepo84c-5{list-style-type:none}ul.lst-kix_de1wxwepo84c-4{list-style-type:none}ul.lst-kix_de1wxwepo84c-7{list-style-type:none}ul.lst-kix_de1wxwepo84c-6{list-style-type:none}.lst-kix_de1wxwepo84c-7>li:before{content:"\0025cb  "}.lst-kix_7l4k3s4gjw7h-1>li:before{content:"\0025cb  "}.lst-kix_de1wxwepo84c-8>li:before{content:"\0025a0  "}.lst-kix_7l4k3s4gjw7h-0>li:before{content:"\0025cf  "}ul.lst-kix_de1wxwepo84c-8{list-style-type:none}.lst-kix_6tvgv39kytrp-3>li:before{content:"\0025cf  "}.lst-kix_6tvgv39kytrp-5>li:before{content:"\0025a0  "}.lst-kix_6tvgv39kytrp-0>li:before{content:"\0025cf  "}.lst-kix_6tvgv39kytrp-4>li:before{content:"\0025cb  "}.lst-kix_6tvgv39kytrp-1>li:before{content:"\0025cb  "}ul.lst-kix_j1iduzjai4sz-0{list-style-type:none}.lst-kix_6tvgv39kytrp-2>li:before{content:"\0025a0  "}.lst-kix_de1wxwepo84c-6>li:before{content:"\0025cf  "}ul.lst-kix_j1iduzjai4sz-4{list-style-type:none}ul.lst-kix_j1iduzjai4sz-3{list-style-type:none}.lst-kix_de1wxwepo84c-5>li:before{content:"\0025a0  "}ul.lst-kix_j1iduzjai4sz-2{list-style-type:none}ul.lst-kix_j1iduzjai4sz-1{list-style-type:none}.lst-kix_de1wxwepo84c-4>li:before{content:"\0025cb  "}ul.lst-kix_j1iduzjai4sz-8{list-style-type:none}ul.lst-kix_j1iduzjai4sz-7{list-style-type:none}.lst-kix_6tvgv39kytrp-8>li:before{content:"\0025a0  "}ul.lst-kix_j1iduzjai4sz-6{list-style-type:none}ul.lst-kix_j1iduzjai4sz-5{list-style-type:none}.lst-kix_de1wxwepo84c-2>li:before{content:"\0025a0  "}.lst-kix_de1wxwepo84c-1>li:before{content:"\0025cb  "}.lst-kix_de1wxwepo84c-3>li:before{content:"\0025cf  "}.lst-kix_6tvgv39kytrp-7>li:before{content:"\0025cb  "}.lst-kix_6tvgv39kytrp-6>li:before{content:"\0025cf  "}ol{margin:0;padding:0}table td,table th{padding:0}.c10{border-right-style:solid;padding:5pt 5pt 5pt 5pt;border-bottom-color:#000000;border-top-width:1pt;border-right-width:1pt;border-left-color:#000000;vertical-align:top;border-right-color:#000000;border-left-width:1pt;border-top-style:solid;border-left-style:solid;border-bottom-width:1pt;width:234pt;border-top-color:#000000;border-bottom-style:solid}.c22{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c12{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Nixie One";font-style:normal}.c20{color:#38761d;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Open Sans";font-style:normal}.c14{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:26pt;font-family:"Open Sans";font-style:normal}.c18{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Open Sans";font-style:normal}.c29{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:26pt;font-family:"Nixie One";font-style:normal}.c17{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"PT Sans";font-style:italic}.c33{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Nixie One";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Open Sans";font-style:normal}.c32{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c13{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-indent:4.5pt;text-align:right}.c3{padding-top:12pt;padding-bottom:12pt;line-height:1.2;text-align:justify}.c25{padding-top:0pt;padding-bottom:10pt;line-height:1.2;text-align:center}.c8{-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline;text-decoration-skip-ink:none}.c31{-webkit-text-decoration-skip:none;color:#0000ff;text-decoration:underline;text-decoration-skip-ink:none}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.0;text-align:left}.c28{border-spacing:0;border-collapse:collapse;margin-right:auto}.c21{color:#38761d;text-decoration:none;vertical-align:baseline;font-style:normal}.c4{padding-top:0pt;padding-bottom:2pt;line-height:1.2;text-align:justify}.c35{padding-top:0pt;padding-bottom:15pt;line-height:1.0;text-align:center}.c11{padding-top:0pt;padding-bottom:2pt;line-height:1.2;text-align:center}.c30{padding-top:12pt;padding-bottom:12pt;line-height:1.2;text-align:center}.c1{font-size:9pt;font-family:"Open Sans";font-weight:400}.c26{font-size:14pt;font-family:"Nixie One";font-weight:400}.c16{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c24{font-size:9pt;font-family:"Open Sans";font-weight:700}.c7{margin-left:36pt;padding-left:0pt}.c19{padding:0;margin:0}.c6{color:inherit;text-decoration:inherit}.c36{margin-left:36pt}.c34{text-indent:36pt}.c5{height:11pt}.c15{text-indent:4.5pt}.c9{height:0pt}.c23{margin-left:108pt}.c27{height:20pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:9pt;color:#000000;font-size:16pt;padding-bottom:9pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c16"><p class="c15 c35 title" id="h.hujb46dnsomc"><span class="c29">Learning Operational Strategy Electing Robot</span></p><p class="c4 c5 c15"><span class="c0"></span></p><h3 class="c13" id="h.f2u6twovjaq1"><span class="c33">ECS170, Spring 2018</span></h3><h1 class="c3" id="h.txei02a0k3h5"><span class="c12">Group Members</span></h1><p class="c4"><span class="c1">Davey Jay Belliss &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8 c1"><a class="c6" href="mailto:dybeliss@ucdavis.edu">dybeliss@ucdavis.edu</a></span><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 912133893</span></p><p class="c4"><span class="c1">Joshua &nbsp;Zhang &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8 c1"><a class="c6" href="mailto:jykzhang@ucdavis.edu">jykzhang@ucdavis.edu</a></span><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;912132516</span></p><p class="c4"><span class="c1">Anjo Gabriel Cordero &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c8 c1"><a class="c6" href="mailto:ascordero@ucdavis.edu">ascordero@ucdavis.edu</a></span><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;912327813</span></p><p class="c4"><span class="c1">Thomas Tran &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c8 c1"><a class="c6" href="mailto:tsmtran@ucdavis.edu">tsmtran@ucdavis.edu</a></span><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;912205281</span></p><p class="c4"><span class="c1">Matthew Stickle &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c8 c1"><a class="c6" href="mailto:mpstickle@ucdavis.edu">mpstickle@ucdavis.edu</a></span><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;913359026</span></p><p class="c4"><span class="c1">Alex Derebenskiy &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="c1 c8"><a class="c6" href="mailto:avderebenskiy@ucdavis.edu">avderebenskiy@ucdavis.edu</a></span><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 999814491</span></p><h1 class="c3" id="h.btm0ow1gt0e5"><span class="c12">Problem and Contribution Statement</span></h1><p class="c4"><span class="c0">We are proposing to develop an artificially intelligent bot that will start a game with a default strategy, but then adapt to the opponent as more information is gathered. We chose to create a learning and scripted bot since it has the benefits of being both a scripted bot (using strategies known to be in the meta) and a learning bot (being able to adapt). The scripted portion of the bot will be broken down into a series of modules that the intelligent portion of the bot will be able to mix and match such that the bot will be more flexible to a given situation and harder to counter. Overall, our contribution to the problem is intelligent Starcraft 2 AI is a bot will be able to play a full game of starcraft in a (hopefully) intelligent way.</span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c1">Since Starcraft II has several potential strategies for any given situation there is not a well defined &ldquo;best solution&rdquo; for how a bot should select a strategy nor how it will adapt if the opponent effectively counters the initial strategy. This will show that deep learning can be used in a competitive environment, even in a complex game like Starcraft II which is only partially observable and has a</span><span class="c24">&nbsp;</span><span class="c0">wide search space. Additionally it will show that a machine learning AI can adapt to new situations and be able to select a strategy on limited information given, and be able to adapt on the fly. </span></p><p class="c4 c5 c34"><span class="c0"></span></p><p class="c4"><span class="c1">There has been work done by others that have developed similar bots that utilize more of a sparse strategy that focuses on winning with other races such as Terrans, as demonstrated by </span><span class="c1 c31"><a class="c6" href="https://www.google.com/url?q=https://itnext.io/refine-your-sparse-pysc2-agent-a3feb189bc68&amp;sa=D&amp;ust=1528441879909000">Steven Brown</a></span><span class="c0">. However, instead of Steven&rsquo;s approach where he checks to see if the given state he is in currently is the same as the previous step, we will use a combination of checking current states and evaluating overall &ldquo;fitness&rdquo; to help determine what the bot should do next. We hope to create an intelligent selection process that maintains its current strategy unless our fitness evaluation reveals that we need to change our given strategy to optimize our strategy and adapt to our opponent&rsquo;s actions. For this intelligent selection process, we plan to use the AI approaches of neural networks and genetic algorithms. </span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c18">The project was well scoped and held for the duration of the project. </span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4 c5"><span class="c0"></span></p><h1 class="c30" id="h.8273hpvibsdk"><span class="c26">Design and Technical Approach </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 368.00px; height: 501.43px;"><img alt="" src="images/image5.png" style="width: 368.00px; height: 501.43px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></h1><p class="c4 c5 c15"><span class="c0"></span></p><p class="c25 subtitle" id="h.c0m41bivwgl9"><span class="c17">Learning Operational Strategy Electing Robot Flowchart</span></p><p class="c4 c5 c15"><span class="c0"></span></p><p class="c11"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 517.50px; height: 463.30px;"><img alt="" src="images/image6.png" style="width: 517.50px; height: 463.30px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c25 subtitle" id="h.qky434yunlgi"><span class="c17">Learning Operational Strategy Electing Robot Flowchart With Example</span></p><p class="c4 c5 c15"><span class="c0"></span></p><p class="c4 c5 c15 c23"><span class="c0"></span></p><p class="c4 c5 c15"><span class="c0"></span></p><p class="c4"><span class="c1">We will implement our AI in python with Pycharm, Github, a combination of python-sc2 with the pysc2 gui, OpenpAi&rsquo;s RL algorithms, keras, and TensorFlow technologies. PyCharm is a well known IDE that will provide useful programming features such as syntax correction, linting and debugging. We will use Github to provide version control with the ability to test our code changes and merge the work of our different programmers into the master branch. Our AI will be based on the skeleton provided by python-sc2 and facilitate the development of our machine learning algorithms, using Tensorflow or a similar machine learning library. To train the bot, we will use the replays from the </span><span class="c8 c1"><a class="c6" href="https://www.google.com/url?q=https://github.com/Blizzard/s2client-proto%23downloads&amp;sa=D&amp;ust=1528441879911000">Starcraft 2 protobuf client github repository</a></span><span class="c0">&nbsp;and use a combination of training online using the google cloud and offline using a combination of the Nvidia graphics cards that we have available to us (2 970, 1 1050, 1 1060).</span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c1">We plan on primarily utilizing a Deep Q Learning algorithm that uses a neural network &nbsp;tsuch that we have a history of previous trainings so that we can continue to update our weights to optimize the performance of our bot, similar to the implementation by </span><span class="c8 c1"><a class="c6" href="https://www.google.com/url?q=https://github.com/skjb/pysc2-tutorial&amp;sa=D&amp;ust=1528441879911000">Steven Brown</a></span><span class="c0">. However, in order to improve his approach, we plan to incorporate a fitness function that will help determine when we need to enter the neural network and choose a new strategy. This implementation is advantageous because it can be &ldquo;lazy&rdquo; in that we do not have to constantly input all of the data that we receive from the protobuf into our neural network. However, in order to ensure that our fitness function does not encourage stagnation, the bot will enter the neural network every X iterations to verify that the modular strategy it has selected is still optimal. In order to determine fitness, we have defined the following functions:</span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4 c34 c5 c36"><span class="c0"></span></p><p class="c4"><img src="images/image1.png"></p><p class="c4"><img src="images/image2.png"></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><img src="images/image3.png"></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><img src="images/image4.png"></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c1">If the fitness reveals that the current strategy is no longer deemed as optimal, we will pass our current army composition, buildings, and upgrades that we have as well as the same information regarding the opponents. The neural network will have access to a Q table, which will not only act as our history from past training sessions, but will also provide the weights that lead the bot to determine the optimal strategy. The Q space, in this case, will be the scripted strategies that the bot will have access to and excludes any of the scripted strategies that would be inefficient to perform from the current game state. The training will initiate a neural network with randomized weights which will be normalized between -2 and 2, as suggested by </span><span class="c8 c1"><a class="c6" href="https://www.google.com/url?q=https://medium.com/@joshpatterson_5192/deep-q-learning-for-self-driving-cars-c482f1a39367&amp;sa=D&amp;ust=1528441879914000">Josh Patterson</a></span><span class="c0">, to aid in the convergence of our network.</span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c0">Depending on the output of the neural network, the bot will piece together a scripted strategy that it thinks is optimal for the given situation. By scripted strategies, we mean to have our strategies categorized into, for example, build orders/timing, troop compositions for counters, and scouting strategies.</span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c0">Our combat strategies will be a series of hard counters and unit compositions that the bot would choose.Examples would be banelings for massed marines or counters to flying units if the bot detects that the opponent has a flying unit or has begun building structures to allow for the creation of flying units.</span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c18">Originally our plan was to use pysc2 to create the Starcraft 2 agents. Working with pysc2 was very difficult due to the strange nature of giving actions to units, and the lack of documentation or clear examples. Once we were exposed to python-sc2, we switched over immediately. This change set us back a little, but overall has helped us make much more progress on that project than if we had stayed with pysc2.</span></p><p class="c4 c5"><span class="c18"></span></p><p class="c4"><span class="c18">We have also split our original idea of strategies into 2 &nbsp;clearly defined parts. These two parts are the unit composition (build) and the tactic (attack, defend, harass, or scout). This allows the neural network a wider range of options to choose from, and helps with splitting the work among our group. It also allows each agent to only focus on building units, while attacking, defending, scouting, and harassing are all performed the same way for each agent.</span></p><h1 class="c3" id="h.ku5e4f5g5835"><span class="c12">Scope and Timeline</span></h1><p class="c4"><span class="c0">There are starcraft bots that use Q tables, games that use deep Q learning, and genetic algorithms to help explore large search spaces. Since Starcraft has a large search space and the potential to learn to adapt to strategies, we aim to fill the gap by making a single bot that can implement four different build orders, nine different strategies, and the ability to adapt to any given game state by analyzing the current state, determining its own fitness, and using the Q network to decide the most optimal strategy.</span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c0">There are a few existing Starcraft 2 bots that use deep learning, so we will use the python-sc2 framework as a base to start our development. Development can easily be segmented between the learning part of the bot and the scripted part of the bot, allowing our 6 person team to work in parallel to rapidly make progress. Some of our team members have experience with working with large groups through ECS160: Software development and ECS193: Senior Design. Many of us are also experienced with Git which will help us reduce time spent learning &nbsp;git. Below is an estimated timeline for the next 5 weeks of work on the project that will allow us to have our bot completed by week 10. </span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c0">By Week 5 (Monday):</span></p><ul class="c19 lst-kix_e3jwjxt66zw7-0 start"><li class="c4 c7"><span class="c0">Project Proposal</span></li></ul><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c0">By &nbsp;Week 6:</span></p><ul class="c19 lst-kix_7l4k3s4gjw7h-0 start"><li class="c4 c7"><span class="c0">Installed PySC2 environment</span></li><li class="c4 c7"><span class="c0">Ran the default learning agents</span></li><li class="c4 c7"><span class="c0">Decide on properties for the fitness function</span></li><li class="c4 c7"><span class="c0">Implement deep Q learning based on tutorials online in pysc2</span></li><li class="c4 c7"><span class="c0">Begin implementing the default strategy bot</span></li><li class="c4 c7"><span class="c0">Experiment with Starcraft 2 API</span></li></ul><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c0">By &nbsp;Week 7:</span></p><ul class="c19 lst-kix_de1wxwepo84c-0 start"><li class="c4 c7"><span class="c0">Finish translation of codebase from pysc2 to python-sc2</span></li><li class="c4 c7"><span class="c0">Reimplement Q-learning for python-sc2</span></li><li class="c4 c7"><span class="c0">Add different strategies to the bot</span></li><li class="c4 c7"><span class="c0">Scouting</span></li><li class="c4 c7"><span class="c0">Implement the fitness function</span></li></ul><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c0">By &nbsp;Week 8:</span></p><ul class="c19 lst-kix_6tvgv39kytrp-0 start"><li class="c4 c7"><span class="c0">Tweaking the fitness function and introduce mutations for further explorations</span></li><li class="c4 c7"><span class="c0">Train</span></li><li class="c4 c7"><span class="c0">Add different strategies to the bot</span></li></ul><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c0">By &nbsp;Week 9:</span></p><ul class="c19 lst-kix_wkhtvg17fpcu-0 start"><li class="c4 c7"><span class="c0">Tweaking the fitness function</span></li><li class="c4 c7"><span class="c0">Continue training</span></li><li class="c4 c7"><span class="c0">Add different strategies to the bot</span></li></ul><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c0">By &nbsp;Week 10:</span></p><ul class="c19 lst-kix_j1iduzjai4sz-0 start"><li class="c4 c7"><span class="c0">Bug fixes</span></li><li class="c4 c7"><span class="c0">Finalizing github pages</span></li></ul><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c18">Changing to python-sc2 forced us to push our timeline back by about a week to setup the new environment and convert our existing code to python-sc2. The separation of strategies into builds and tactics created additional tasks that needed to be completed. None of our changes affected the scope of the project.</span></p><p class="c4 c5"><span class="c0"></span></p><h1 class="c3" id="h.x1i7bec58it"><span class="c12">Documentation and Access</span></h1><p class="c4"><span class="c1">We will be using a public </span><span class="c8 c1"><a class="c6" href="https://www.google.com/url?q=https://github.com/dbelliss/LOSER&amp;sa=D&amp;ust=1528441879919000">Github repo</a></span><span class="c0">&nbsp;to facilitate version control for our project. Github will be used to keep a history of changes, merge the work of our programmers, and provide access control to our repository. We will include a readme in the repository which will explain our objective and contain instructions for running our program. On GitHub we will maintain a comprehensive README.md and CHANGE_LOG that details how to run the bot, how the bot works, and what we have tried so far in the bot.</span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c1">We will also keep a weekly </span><span class="c1">ToDo </span><span class="c0">list that details who will be doing what for each week. This will help us keep track of how work is divided in an informal way that does not require creating a github issue ticket.</span></p><p class="c4 c5"><span class="c1 c21"></span></p><p class="c4"><span class="c20">Our group never used a weekly ToDo list because our tasks were rapidly changing throughout the project. Instead, we kept track of each other&rsquo;s works by using a discord server with channels dedicated to specific parts of the project. </span></p><p class="c4 c5"><span class="c20"></span></p><p class="c4"><span class="c8 c24"><a class="c6" href="https://www.google.com/url?q=https://github.com/dbelliss/LOSER&amp;sa=D&amp;ust=1528441879920000">Github repo</a></span></p><h1 class="c3" id="h.c6q6e7qqv98c"><span class="c12">Evaluation</span></h1><p class="c4"><span class="c0">Our criteria for success can be measured in two ways. The first, will be that the bot does change strategies based on what the opponent is building and what the bot&rsquo;s current strategy is. As a simple check, we can add a counter in our code that keeps track of the number of times the strategy changes. The second, is that the strategy the bot changes to is actually an improvement from its previous strategy. This will be verified by having the bot playing against an AI or human with an obvious build order (For example Marines, Marauders, Medivacs), and verify the bot begins building a counter (banelings and infestors).</span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c0">We will also have a function that will record the results as we are training our bot so that we can monitor the progress of our bot over time. This function will append to a file that will keep track of the win/loss ratio and we expect that as the number of games that we train on that the win rate should increase. The record will also record the number of units built and lost, buildings raided, and other bits from the game summary to explore other interesting trends that may be observable as our bot becomes more intelligent. In order to ensure our bot is using units effectively, we will keep track of how many times our bot tells a unit to cast a spell.</span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c18">Our bot did not actually end up changing strategies based upon the enemies buildings. Time constraints forced us to have the bot rely on a fitness function that only evaluated the opponents units, rather than also their buildings. (NEURAL NETWORK PEOPLE CHECK THIS OUT, AM I RIGHT? DID YOU INCLUDE A CATCH ALL FOR UNITS INCLUDING BUILDINGS? OR IS IT JUST UNITS?)</span></p><p class="c4 c5"><span class="c18"></span></p><p class="c4"><span class="c18">Our bot, however, does change strategies (randomly?), and then uses whether it won or lost the game to evaluate whether those changes were good or bad. (yeah maybe NN people should elaborate on this im just writing stuff down lol)</span></p><p class="c4 c5"><span class="c18"></span></p><p class="c4"><span class="c18">Our bot also does not build units specifically to counter other units, but rather has the ability to switch between build orders/agents over the course of the game, letting it learn whether switching the agent under certain circumstances was good or bad.</span></p><p class="c4 c5"><span class="c0"></span></p><h1 class="c3" id="h.wwk99dha6xii"><span class="c12">Plan for Deliverables</span></h1><p class="c4"><span class="c0">We will make our github repository public as a usable example of a python-sc2 bot, however we will not submit our code to tournaments or write a conference paper unless our bot is very successful. Our GitHub repo will contain a README that details how to run the bot and how it works in order for others to learn about how to make a starcraft bot.</span></p><p class="c4 c5 c15"><span class="c21 c1"></span></p><h1 class="c3" id="h.eqio1ada6qfz"><span class="c12">Separation of Tasks for Team</span></h1><a id="t.2645140df02c7e66d46286aa27ee60fa54864804"></a><a id="t.0"></a><table class="c28"><tbody><tr class="c27"><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Task</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">People Assigned</span></p></td></tr><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Install Python-SC2</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">All</span></p></td></tr><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Create the Deep Learning section of the bot</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Alex, Matthew, Thomas </span></p></td></tr><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Create the fitness function</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Davey, Joshua, Anjo </span></p></td></tr><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Collect or develop scripted AIs</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Davey, Joshua, Anjo </span></p></td></tr><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Basic Scouting (Scripting)</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Davey, Joshua, Anjo </span></p></td></tr><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Train the deep learning AI</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Alex, Matthew, Thomas </span></p></td></tr><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Tweak the fitness function</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Davey, Joshua, Anjo </span></p></td></tr><tr class="c27"><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Advanced Scouting (Stretch: Machine learning)</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Alex, Matthew, Thomas </span></p></td></tr><tr class="c27"><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Graphs of Data</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Joshua</span></p></td></tr><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Code Review</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c18">ALL</span></p></td></tr><tr class="c9"><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c0">Document code and write good code</span></p></td><td class="c10" colspan="1" rowspan="1"><p class="c2"><span class="c18">ALL</span></p></td></tr></tbody></table><p class="c4"><span class="c0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p><h1 class="c3" id="h.fsv7nv1cmlat"><span class="c12">References</span></h1><p class="c4"><span class="c18">Open AI&rsquo;s RL algorithms</span></p><p class="c4"><span class="c8 c1"><a class="c6" href="https://www.google.com/url?q=https://github.com/openai/baselines&amp;sa=D&amp;ust=1528441879928000">https://github.com/openai/baselines</a></span><span class="c0">&nbsp;</span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c18">proto:</span></p><p class="c4"><span class="c8 c1"><a class="c6" href="https://www.google.com/url?q=https://github.com/Blizzard/s2client-proto&amp;sa=D&amp;ust=1528441879928000">https://github.com/Blizzard/s2client-proto</a></span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c18">Installing Headless SC2 on Linux</span></p><p class="c4"><span class="c8 c1"><a class="c6" href="https://www.google.com/url?q=https://github.com/Blizzard/s2client-proto/blob/master/docs/linux.md&amp;sa=D&amp;ust=1528441879929000">https://github.com/Blizzard/s2client-proto/blob/master/docs/linux.md</a></span><span class="c0">&nbsp;</span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4"><span class="c18">Example for Reinforcement Learning:</span></p><p class="c4"><span class="c8 c1"><a class="c6" href="https://www.google.com/url?q=https://github.com/chris-chris/pysc2-examples&amp;sa=D&amp;ust=1528441879929000">https://github.com/chris-chris/pysc2-examples</a></span></p><p class="c4 c5"><span class="c18"></span></p><p class="c4"><span class="c24">Python-SC2</span></p><p class="c4"><span class="c8 c1"><a class="c6" href="https://www.google.com/url?q=https://github.com/Dentosal/python-sc2&amp;sa=D&amp;ust=1528441879930000">https://github.com/Dentosal/python-sc2</a></span></p><p class="c4 c5"><span class="c18"></span></p><p class="c4"><span class="c24">StarCraft II RL Tutorial 1</span></p><p class="c4"><span class="c8 c1"><a class="c6" href="https://www.google.com/url?q=http://chris-chris.ai/2017/08/30/pysc2-tutorial1/&amp;sa=D&amp;ust=1528441879930000">http://chris-chris.ai/2017/08/30/pysc2-tutorial1/</a></span></p><p class="c4"><span class="c8 c1"><a class="c6" href="https://www.google.com/url?q=https://github.com/skjb/pysc2-tutorial&amp;sa=D&amp;ust=1528441879931000">https://github.com/skjb/pysc2-tutorial</a></span></p><p class="c4 c5"><span class="c14"></span></p><p class="c4 c5"><span class="c0"></span></p><p class="c4 c5"><span class="c0"></span></p><p class="c5 c32"><span class="c22"></span></p></body></html>